# lecture-Asynchronous

# Synchronous
> Synchronous (синхронно) — это выполнение задач, кода или функций последовательно, то есть каждая задача начинается только тогда, когда предыдущая завершилась.
Браузер часто использует синхронные операции, когда перед визуализацией он должен завершить определенную интерактивную задачу.

> Примеры синхронных операций:

> 1. alert(): функция alert() прерывает выполнение кода и блокирует экран браузера до тех пор, пока пользователь не нажмет кнопку «ОК». 

```js
alert('Hello');
console.log('I am next to an alert');
```

# Asynchronous
> Asynchronous (асинхронность) в JavaScript - это парадигма программирования, которая позволяет выполнять несколько задач одновременно в одном процессе и работать с большим объемом данных без блокирования выполнения других задач.

> В JavaScript асинхронность осуществляется с помощью коллбеков, промисов и асинхронных функций. Например, такие методы как setTimeout(), setInterval() и асинхронные AJAX-запросы являются асинхронными.

* Примеры:

> 1. setTimeout() - функция, которая вызывает указанную функцию или исполняет указанный код после того, как заданная задержка истечет.

```js
setTimeout(function(){
    console.log('Hello, world!');
}, 2000);
```
## callbacks
> Обратные вызовы (callbacks) - это функции, которые передаются в качестве аргументов в другие функции и выполняются, когда вызываемая функция завершает свою задачу. Обратные вызовы могут использоваться для обработки асинхронных операций, передавая функцию обратного вызова в асинхронный метод, который затем вызывает функцию обратного вызова, когда операция завершена.

```js
function foo(callback){
    setTimeout(function(){
        callback('hello world')
    },1000)
}

foo(function(value){
    consol.log(value)
});
```

## New promise in js
> Promise - это объект, который представляет активность, которая может быть завершена и вернуть результат в будущем, в том числе асинхронную операцию.

* Примеры использования Promise:

> 1. Отложенный вызов функции с использованием Promise:

```js
function delay(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

delay(2000).then(() => console.log('2 seconds'));


//2. Загрузка данных через fetch API:


fetch('http://example.com/data.json')
  .then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error(error));

```


> Роль Promise в асинхронном программировании заключается в том, чтобы представить результат, который может не перейти в состояние "завершена" в момент выполнения методов, и позволяет избежать проблемы блокирования однопоточного интерфейса при выполнении тяжелых и долгих операций. Она также позволяет лучше управлять ошибками и промежуточными значениями при выполнении асинхронных операций.

## try/catch/finally
> try-catch-finally в JavaScript - это механизм обработки ошибок, который Позволяет обрабатывать исключения в программе. Вы можете выделить блок кода, который может выбросить исключение, и выполнить код обработки ошибки, который обеспечивает более точный и понятный способ обработки ошибок в JavaScript.

> try - Этот блок кода содержит элементы программы, которые могут вызвать исключение, и они должны быть помещены в этот блок кода.

> catch - Этот блок кода срабатывает, если в блоке try выбрасывается исключение. В этом блоке мы перехватываем исключение и можем выполнить код обработки ошибок.

> finally - Этот блок кода всегда выполняется после выполнения блока try и catch. Вызов функций или очистка ресурсов обычно выполняется в блоке finally.

### Вот несколько примеров использования try-catch-finally в JavaScript:

#### Пример 1:
```js

try {
  let num = 5;
  num.toUpperCase(); // Попытка вызвать метод toUpperCase у числа
} catch (error) {
  console.log(Ошибка: ${error}); //Ошибка: num.toUpperCase is not a function
} finally {
  console.log('Операция выполнена.'); // Операция выполнена.
}
```

#### Пример 2:

```js
try {
  let value = prompt('Введите число', ''); // Запрос числа у пользователя
  if (value < 0) {
    throw new Error('Число не может быть отрицательным'); // Генерируем ошибку при введении отрицательного числа
  }
  console.log(value); // Выводим число в консоль, если число положительное
} catch (error) {
  console.log(Ошибка: ${error}); // Показываем сообщение об ошибке, если число отрицательное
} finally {
  console.log('Операция выполнена.');// Выводим сообщение о завершении операции
}
  
```
#### Пример 3:

```js
function divide(num1, num2) { // Функция деления двух чисел
  try {
    if (num2 === 0) { // Если делитель равен 0, генерируется исключение
      throw new Error('Делить на 0 нельзя!');
    }
    return num1 / num2; // Возвращаем результат деления
  } catch (error) {
    console.log(Ошибка: ${error}); // Показываем сообщение об ошибке для деления на 0
  } finally {
    console.log('Операция выполнена.');// Выводим сообщение о завершении операции
  }
}

console.log(divide(10, 5)); // Выводим результат: 2
console.log(divide(10,0)); // Показываем сообщение об ошибке: Ошибка: Делить на 0 нельзя!
```

> В приведенных примерах мы используем блок try-catch-finally для обработки ошибок в JavaScript. Блок try-catch-finally позволяет ловить и обрабатывать ошибки в программах.

# Request
> Request в JS относится к запросам, которые отправляются с клиента на сервер для получения какой-либо информации. Request может быть отправлен с помощью различных API, таких как Fetch API, Axios и XHR (XMLHttpRequest). Запрос может содержать информацию, необходимую серверу для выполнения соответствующих действий, например, отправку данных или запроса информации из базы данных. После отправки запроса сервер может отправить обратно ответ на клиент, который может быть обработан в JS приложении с помощью соответствующих методов.

## API-Application programming interface
> API - это общий термин который означает программный интерфейс 

## Rest API 
> Это конкетный АРI, под названием REST, описывающий протокол взаимодействия с веб-сервеом.

# Fetc()
> Fetch API предоставляет интерфейс JavaScript для работы с запросами и ответами HTTP. Он также предоставляет глобальный метод fetch() (en-US), который позволяет легко и логично получать ресурсы по сети асинхрониний

# Axios
> Axios-этоHTTP-клиент, основанный на Promise для node.js и браузера. Он может работать в браузере и node.js с той же базой кодов.
* Используя jsDelivrCDN:
```html
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
```


# get
```js
const getUser = async()=>{
    try{
        const { data }  = await axios.get(`url`)
    }catch (error){

    }
}
```

# post
```js
const postCreate = async(editUser)=>{
    try{
        const { data }  = await axios.post(`url`,editUser)
    }catch (error){

    }
}
```

# put
```js
const putCreate = async(id,editUser)=>{
    try{
        const { data }  = await axios.post(`url/${id}`,editUser)
    }catch (error){

    }
}

```

# delete
```js
const postCreate = async (id) => {
     try {
         const { data } = await axios.post(`url/${id}`) 
    } catch (error) {
        
    }
}
```
